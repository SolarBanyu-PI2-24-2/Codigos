<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home - SolarBanyu</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="/assets/favicon.png" type="image/png">
</head>

<body>
    <%- include('partials/sidebar') %>

    <div class="main-content">
        <%- include('partials/header') %>

        <div class="dashboard">
            <h1 id="user-name-home">Seja bem-vinda, Carregando...</h1>
            <p>Aqui voc√™ acompanha a produ√ß√£o de √°gua doce.</p>

            <div class="metrics">
                <div class="metric-box">
                    <i class="fas fa-calendar-alt"></i>
                    <div>Dias com SolarBanyu <strong id="current-days-home"></strong></div>
                </div>
                <div class="metric-box">
                    <i class="fas fa-tint"></i>
                    <div>√Ågua dessalinizada <strong id="total-water-home"></strong></div>
                </div>
                <div class="metric-box">
                    <i class="fas fa-bolt"></i>
                    <div>Pr√≥xima troca de bateria <strong>30/10/2028</strong></div>
                </div>
                <div class="metric-box">
                    <i class="fas fa-sync-alt"></i>
                    <div>Pr√≥xima troca de filtro <strong>28/12/2026</strong></div>
                </div>
            </div>

            <div class="content-split">
                <!-- Se√ß√£o de alertas -->
                <div class="alerts-section">
                    <h2>Alertas</h2>
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Data</th>
                                <th>Prioridade</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                    <p>N√£o h√° alertas antigos</p>
                </div>

                <!-- Se√ß√£o de instala√ß√£o -->
                <div class="installation-section">
                    <h2 id="installation-title">SolarBanyu</h2>
                    <div class="installation-info">
                        <h3 id="unit-count">Carregando...</h3>
                        <table>
                            <tbody>
                                <tr>
                                    <td>Endere√ßo de instala√ß√£o</td>
                                    <td id="installation-address">Carregando...</td>
                                </tr>
                                <tr>
                                    <td>Estado</td>
                                    <td id="installation-state">Carregando...</td>
                                </tr>
                                <tr>
                                    <td>Data da instala√ß√£o</td>
                                    <td id="installation-date">Carregando...</td>
                                </tr>
                                <tr>
                                    <td>N√∫mero de s√©rie</td>
                                    <td id="serial-number">Carregando...</td>
                                </tr>
                                <tr>
                                    <td>Modelo do sistema</td>
                                    <td id="system-model">Carregando...</td>
                                </tr>
                                <tr>
                                    <td>Capacidade (L)</td>
                                    <td id="system-capacity">Carregando...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="installation-actions">
                        <!-- Bot√£o Pedir Suporte -->
                        <button id="supportButton">Pedir suporte</button>                  
                    
                        <!-- Bot√£o Adicionar Nova Unidade -->
                        <button id="addUnitButton">Adicionar nova unidade</button>
                    </div>
                    
                    <!-- Modal Pedir Suporte -->
                    <div id="supportModal" class="modal">
                        <div class="modal-content">
                            <span class="close-modal" id="closeSupportModal">&times;</span>
                            <h2>Pedir Suporte</h2>
                            <p>Escolha uma op√ß√£o de suporte:</p>
                            <ul>
                                <li><a href="tel:+551199999999" class="support-option-modal">üìû Ligue para n√≥s</a></li>
                                <li><a href="mailto:suporte@solarbanyu.com" class="support-option-modal">üìß Enviar um e-mail</a></li>
                                <li><button class="support-option-modal" id="startChat">üí¨ Iniciar um chat</button></li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Modal Adicionar Nova Unidade -->
                    <div id="addUnitModal" class="modal">
                        <div class="modal-content">
                            <span class="close-modal" id="closeAddUnitModal">&times;</span>
                            <h2>Adicionar uma nova unidade</h2>
                            <form id="addUnitForm">
                                <label for="serialNumber" class="modal-label">N√∫mero de S√©rie:</label>
                                <input type="text" id="serialNumber" name="serialNumber" class="modal-input" placeholder="Digite o n√∫mero de s√©rie" required>
                                <button type="submit" class="btn-submit-modal">Adicionar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

                    
                    
                    <script src="/js/botoes.js"></script>          
                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
    // Bot√µes para abrir os modais
    const supportButton = document.getElementById("supportButton");
    const addUnitButton = document.getElementById("addUnitButton");

    // Modais
    const supportModal = document.getElementById("supportModal");
    const addUnitModal = document.getElementById("addUnitModal");

    // Bot√µes para fechar os modais
    const closeSupportModal = document.getElementById("closeSupportModal");
    const closeAddUnitModal = document.getElementById("closeAddUnitModal");

    // Abrir modais
    supportButton.addEventListener("click", () => {
        supportModal.style.display = "flex";
    });

    addUnitButton.addEventListener("click", () => {
        addUnitModal.style.display = "flex";
    });

    // Fechar modais
    closeSupportModal.addEventListener("click", () => {
        supportModal.style.display = "none";
    });

    closeAddUnitModal.addEventListener("click", () => {
        addUnitModal.style.display = "none";
    });

    // Fechar modais ao clicar fora
    window.addEventListener("click", (event) => {
        if (event.target === supportModal) {
            supportModal.style.display = "none";
        }
        if (event.target === addUnitModal) {
            addUnitModal.style.display = "none";
        }
    });
});

</script>

<script src="/js/homepage.js"></script>
</body>

</html>
